(self.webpackChunktodo=self.webpackChunktodo||[]).push([[405],{687:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={createTask:function(e,t){return{type:"CREATE_TASK",payload:{text:e,categoryId:t}}},deleteTask:function(e){return{type:"DELETE_TASK",payload:{id:e}}},toggleCompleteTask:function(e){return{type:"TOGGLE_COMPLETE_TASK",payload:{id:e}}},toggleImportantTask:function(e){return{type:"TOGGLE_IMPORTANT_TASK",payload:{id:e}}},updateTask:function(e,t){return{type:"UPDATE_TASK",payload:{id:e,text:t}}}}},405:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(294),r=a(803),i=a(477);var c=a(687),o=i.Z.ALL_TASKS_CAT_ID,l=i.Z.IMPORTANT_CAT_ID,d=function(e){return{type:"CREATE_CATEGORY",payload:{name:e}}},s=function(e){return{type:"DELETE_CATEGORY",payload:{id:e}}},u=function(e){return{type:"SELECT_CATEGORY",payload:{id:e}}},_=c.Z.deleteTask;const p=n.forwardRef((function(e,t){var a,i=e.onSidebarToggle,c=(0,n.useState)(""),p=c[0],m=c[1],E=(0,r.v9)((function(e){return e.categories})),f=(0,r.v9)((function(e){return e.tasks})),T=(0,r.I0)();function y(e){var t=e.currentTarget.attributes["data-catid"].value;T(u(t)),i()}function v(e){e.stopPropagation();var t=e.target.parentElement.attributes["data-catid"].value;T(s(t)),f.forEach((function(e){e.categoryId===t&&T(_(e.id))}))}var g=f.filter((function(e){return!1===e.completed})),b=g.filter((function(e){return e.important})),A=Object.create(null);(a={})[l]=b.length,a[o]=g.length,A=a,E.forEach((function(e){[o,l].includes(e.id)||(A[e.id]=g.filter((function(t){return t.categoryId===e.id})).length)}));var N=E.map((function(e){return n.createElement("div",{className:"sidebar__category "+(e.selected?"sidebar__category_active":""),key:e.id,onPointerDown:y,"data-catid":e.id},n.createElement("div",{className:"sidebar__cat-icon sidebar__cat-icon_"+e.icon+" icon"}),n.createElement("p",{className:"sidebar__cat-text"},e.name),e.deletable?n.createElement("div",{className:"icon app__trash-icon",onPointerDown:v}):null,n.createElement("span",{className:"sidebar__tasks-number"},A[e.id]))}));return n.createElement("div",{className:"sidebar",ref:t},n.createElement("div",{className:"sidebar__title"},n.createElement("div",{className:"sidebar__title-text"},"Category list")),n.createElement("div",{className:"sidebar__categories"},N),n.createElement("div",{className:"sidebar__input input"},n.createElement("div",{className:"sidebar__icon icon"}),n.createElement("form",{onSubmit:function(e){e.preventDefault(),p&&T(d(p)),m("")}},n.createElement("input",{type:"text",className:"input-field",placeholder:"New category",onChange:function(e){m(e.target.value)},value:p}))))}))}}]);