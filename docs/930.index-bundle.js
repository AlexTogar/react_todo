(self.webpackChunktodo=self.webpackChunktodo||[]).push([[930],{687:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={createTask:function(e,t){return{type:"CREATE_TASK",payload:{text:e,categoryId:t}}},deleteTask:function(e){return{type:"DELETE_TASK",payload:{id:e}}},toggleCompleteTask:function(e){return{type:"TOGGLE_COMPLETE_TASK",payload:{id:e}}},toggleImportantTask:function(e){return{type:"TOGGLE_IMPORTANT_TASK",payload:{id:e}}},updateTask:function(e,t){return{type:"UPDATE_TASK",payload:{id:e,text:t}}}}},930:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var n=a(294),r=a(803),c=a(687),i=c.Z.deleteTask,o=c.Z.toggleCompleteTask,s=c.Z.toggleImportantTask,l=c.Z.updateTask;const u=n.forwardRef((function(e,t){var a,c=(0,r.I0)();function u(e){var t=e.target.parentElement.attributes["data-taskid"].value;c(i(t))}function d(e){var t=e.currentTarget.parentElement;null==t||t.classList.toggle("task-container__task_checked"),setTimeout((function(){var e=null==t?void 0:t.attributes["data-taskid"].value;c(o(e))}),150)}function m(e){var t=e.target.parentElement.attributes["data-taskid"].value;c(s(t))}function _(e){e.target.disabled=!1}function k(e){e.target.disabled=!0}function f(e){var t=e.currentTarget.attributes["data-taskid"].value,a=e.target.value;c(l(t,a))}var p=null===(a=e.tasks)||void 0===a?void 0:a.map((function(e,t){return n.createElement("div",{className:"task-container__task "+(e.completed?"task-container__task_checked":""),key:e.id,"data-taskid":e.id,onBlur:k,onChange:f},n.createElement("div",{className:"task-container__pseudo-checkbox",onPointerDown:d}),n.createElement("input",{type:"checkbox",className:"task-container__task-checkbox"}),n.createElement("input",{style:e.completed?{color:"#939393",textDecoration:"line-through"}:{},onFocus:_,className:"task-container__task-text",value:e.text,type:"text",disabled:!0}),n.createElement("div",{className:"icon application__trash-icon",onPointerDown:u}),n.createElement("div",{className:"task-container__task-star "+(e.important?"task-container__task-star_acitve":"")+" icon",onPointerDown:m}))}));return n.createElement("div",{className:"task-container",ref:t},p)}));var d=a(477),m=c.Z.createTask,_=d.Z.ALL_TASKS_CAT_ID,k=d.Z.IMPORTANT_CAT_ID;const f=n.forwardRef((function(e,t){var a,c=e.onToggleTheme,i=e.onSidebarToggle,o=(0,n.useState)(""),s=o[0],l=o[1],d=(0,r.I0)(),f=(0,r.v9)((function(e){return e.categories})),p=(0,r.v9)((function(e){return e.tasks})),v=(0,n.useRef)(null),g=(0,n.useRef)(null),E=(0,n.useRef)(null),T=(0,n.useRef)(null),N=f.find((function(e){return e.selected}))||f[0],h=p.filter((function(e){return!1===e.completed})),w=h.filter((function(e){return e.important})),y=p.filter((function(e){return e.completed}));function b(){var e=E.current,t=g.current,a=v.current;null==e||e.classList.toggle("completed-task-container_hidden"),null==t||t.classList.toggle("task-container_hidden"),null==a||a.classList.toggle("completed-task-container__arrow_down"),null==a||a.classList.toggle("completed-task-container__arrow_right")}return a=N.id===k?w:N.id===_?h:h.filter((function(e){return e.categoryId===N.id})),(0,n.useEffect)((function(){var e;b(),null===(e=T.current)||void 0===e||e.focus()}),[]),n.createElement("div",{className:"main"},n.createElement("div",{className:"main__sidebar-icon icon",onPointerDown:function(){i()},ref:t}),n.createElement("div",{className:"main__title"},n.createElement("div",{className:"main__title-icon sidebar__cat-icon_"+N.icon+" icon "}),n.createElement("p",{className:"main__title-text"},N.name),n.createElement("div",{className:"main__theme-switcher",onPointerDown:c},n.createElement("div",{className:"main__theme-switcher-icon"}))),n.createElement("div",{className:"active-task-container"},n.createElement(u,{category:N,tasks:a})),n.createElement("div",{className:"completed-task-container",ref:E},n.createElement("div",{className:"completed-task-container__toggle",onPointerDown:b},n.createElement("div",{className:"completed-task-container__arrow completed-task-container__arrow_down icon",ref:v}),n.createElement("p",{className:"completed-task-container__text"},"Completed",n.createElement("span",{className:"completed-task-container__tasks-number"},y.length))),n.createElement(u,{ref:g,tasks:y})),n.createElement("div",{className:"main__input input"},n.createElement("div",{className:"main__icon icon"}),n.createElement("form",{className:"main__form",onSubmit:function(e){e.preventDefault(),s&&(d(m(s,N.id)),l(""))}},n.createElement("input",{type:"text",className:"input-field main__input-field",placeholder:"Add a task",value:s,onChange:function(e){l(e.target.value)},ref:T}))))}))}}]);